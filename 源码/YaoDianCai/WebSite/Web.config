<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <configSections>
        <section name="dataConfiguration" type="Microsoft.Practices.EnterpriseLibrary.Data.Configuration.DatabaseSettings, Microsoft.Practices.EnterpriseLibrary.Data, Version=4.1.0.0, Culture=neutral, PublicKeyToken=null" />
        <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" />
        <section name="CustomConfiguration" type="UrlRewrite.Config.UrlsSection, UniUrlRewrite" />
    </configSections>
    <startup useLegacyV2RuntimeActivationPolicy="true">
        <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.0" />
        <supportedRuntime version="v2.0.50727" />
    </startup>

    <log4net>
        <logger name="Uni.ADOSQL.DEBUG">
            <appender-ref ref="FileAppender" />
            <level value="DEBUG" />
        </logger>
        <appender name="FileAppender" type="log4net.Appender.RollingFileAppender">
            <file value="/Logs/log.txt" />
            <encoding value="utf-8" />
            <layout type="log4net.Layout.PatternLayout">
                <conversionPattern value="%date %-5level [%thread] %logger - %message%newline" />
            </layout>
        </appender>
    </log4net>

    <CustomConfiguration>
        <urls>
            <add virtualUrl="~/(\d{10})" destinationUrl="~/action/ShopDishAction.ashx?SID=$1" />
            <add virtualUrl="~/(\d{10})/" destinationUrl="~/action/ShopDishAction.ashx?SID=$1" />
            <add virtualUrl="~/(\d{10})/(.*)/" destinationUrl="~/action/ShopDishAction.ashx?SID=$1&amp;tableName=$2" />
            <add virtualUrl="~/login/(.*)" destinationUrl="~/wifiauth/login.ashx$1" />
            <add virtualUrl="~/auth/(.*)" destinationUrl="~/wifiauth/auth.ashx$1" />
            <add virtualUrl="~/portal/(.*)" destinationUrl="~/wifiauth/portal.ashx$1" />
            
        </urls>
    </CustomConfiguration>

    <dataConfiguration defaultDatabase="">
        <providerMappings>
            <add databaseType="EntLibContrib.Data.SQLite.SQLiteDatabase, EntLibContrib.Data.SqLite, Version=4.1.0.0, Culture=neutral, PublicKeyToken=null" name="System.Data.SQLite" />
        </providerMappings>
    </dataConfiguration>

    <system.data>
        <DbProviderFactories>
            <remove invariant="System.Data.SQLite" />
            <add name="SQLite Data Provider" invariant="System.Data.SQLite" description=".Net Framework Data Provider for SQLite" type="System.Data.SQLite.SQLiteFactory, System.Data.SQLite, Version=1.0.80.0, Culture=neutral, PublicKeyToken=db937bc2d44ff139" />
            <remove invariant="MySql.Data.MySqlClient" />
            <add name="MySQL Data Provider" invariant="MySql.Data.MySqlClient" description=".Net Framework Data Provider for MySQL" type="MySql.Data.MySqlClient.MySqlClientFactory, MySql.Data, Version=6.7.4.0, Culture=neutral, PublicKeyToken=c5687fc88969c44d" />
        </DbProviderFactories>
    </system.data>

    <connectionStrings>
      <add name="YDCManagerSqlServer"
           connectionString="server=218.241.3.106;database=YaoDianCai;uid=sa;pwd=th123456;"
           providerName="System.Data.SqlClient" />
    </connectionStrings>

    <system.web>
        <compilation debug="true" targetFramework="4.0" />
        <membership>
            <providers>
                <clear />
                <add name="AspNetSqlMembershipProvider" type="System.Web.Security.SqlMembershipProvider" connectionStringName="ApplicationServices" enablePasswordRetrieval="false" enablePasswordReset="true" requiresQuestionAndAnswer="false" requiresUniqueEmail="false" maxInvalidPasswordAttempts="5" minRequiredPasswordLength="6" minRequiredNonalphanumericCharacters="0" passwordAttemptWindow="10" applicationName="/" />
            </providers>
        </membership>

        <profile>
            <providers>
                <clear />
                <add name="AspNetSqlProfileProvider" type="System.Web.Profile.SqlProfileProvider" connectionStringName="ApplicationServices" applicationName="/" />
            </providers>
        </profile>

        <roleManager enabled="false">
            <providers>
                <clear />
                <add name="AspNetSqlRoleProvider" type="System.Web.Security.SqlRoleProvider" connectionStringName="ApplicationServices" applicationName="/" />
                <add name="AspNetWindowsTokenRoleProvider" type="System.Web.Security.WindowsTokenRoleProvider" applicationName="/" />
            </providers>
        </roleManager>
        <customErrors mode="Off" />
    </system.web>

    <system.webServer>
        <modules>
            <add type="UrlRewrite.Module.RewriterModule,UniUrlRewrite" name="RewriterModule" />
        </modules>

        <defaultDocument>
            <files>
                <clear />
                <add value="index.html" />
            </files>
        </defaultDocument>
    </system.webServer>
</configuration>
